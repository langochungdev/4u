@import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Mali:wght@400;600&family=Nunito:wght@400;700&display=swap');

.font-hand { 
    font-family: 'Mali', cursive; 
    font-weight: 400;
}

.font-dancing { 
    font-family: 'Dancing Script', cursive; 
}

/* CSS TẠO DÒNG KẺ NGANG */
.paper-lines {
    background-image: linear-gradient(#e5e7eb 1px, transparent 1px);
    background-size: 100% 32px; 
    background-position: 0 4px;
}

/* Animations (Giữ nguyên) */
@keyframes spin-slow { to { transform: rotate(360deg); } }
.animate-spin-slow { animation: spin-slow 4s linear infinite; }

@keyframes twinkle { 0%, 100% { opacity: 0.3; transform: scale(0.8); } 50% { opacity: 1; transform: scale(1.2); } }
.animate-twinkle { animation: twinkle 3s ease-in-out infinite alternate; }

@keyframes sway { 0% { transform: rotate(-2deg); } 100% { transform: rotate(2deg); } }
.animate-sway { animation: sway 3s ease-in-out infinite alternate; }

@keyframes shake { 10%, 90% { transform: translate3d(-2px, 0, 0); } 20%, 80% { transform: translate3d(2px, 0, 0); } }
.animate-shake { animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both !important; }

@keyframes drop { to { transform: translateY(200px); opacity: 0; } }
.animate-drop { animation: drop 1s linear forwards; }

@keyframes fall { 0% { transform: translateY(0) rotate(0deg); } 100% { transform: translateY(110vh) rotate(360deg); } }
.animate-fall { animation: fall linear infinite; }

@keyframes fly { 0% { left: -250px; } 100% { left: 120vw; } }
.animate-fly { animation: fly 25s linear infinite; }

@keyframes popIn { 0% { transform: scale(0.8); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
.animate-popIn { animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); }

/* Decoration Layers */
.snow { position: absolute; top: 0; left: 0; width: 100%; height: 100%; animation: snowAnim linear infinite; pointer-events: none; }
.snow-1 { 
    background-image: radial-gradient(2px 2px at 20% 30%, #fff, transparent), radial-gradient(2px 2px at 40% 70%, #fff, transparent); 
    background-size: 200px 200px; animation-duration: 20s; opacity: 0.3; 
}
.snow-2 { 
    background-image: radial-gradient(3px 3px at 10% 10%, #fff, transparent), radial-gradient(3px 3px at 50% 50%, #fff, transparent); 
    background-size: 300px 300px; animation-duration: 15s; opacity: 0.5; 
}
@keyframes snowAnim { 0% { transform: translateY(0); } 100% { transform: translateY(100vh); } }

/* Envelope 3D */
.envelope-wrap { position: absolute; width: 300px; height: 200px; transition: all 0.6s ease; }
.envelope-wrap.vanish { opacity: 0; pointer-events: none; transform: scale(1.5); }
.envelope { position: relative; width: 100%; height: 100%; transform-style: preserve-3d; }
.envelope-back { position: absolute; inset: 0; background: #b91c1c; border-radius: 8px; z-index: 1; }
.envelope-front { 
    position: absolute; bottom: 0; left: 0; width: 0; height: 0; z-index: 10; 
    border-style: solid; border-width: 0 150px 120px 150px; 
    border-color: transparent transparent #dc2626 transparent; pointer-events: none; 
}
.envelope-flap { 
    position: absolute; top: 0; left: 0; width: 0; height: 0; z-index: 12; 
    border-style: solid; border-width: 100px 150px 0 150px; 
    border-color: #991b1b transparent transparent transparent; 
    transform-origin: top; transition: transform 0.5s ease; pointer-events: none; 
}
.envelope-wrap.open .envelope-flap { transform: rotateX(180deg); z-index: 0; }
.seal { 
    position: absolute; top: 100px; left: 50%; transform: translate(-50%, -50%); 
    width: 40px; height: 40px; background: #facc15; border-radius: 50%; 
    display: flex; justify-content: center; align-items: center; font-size: 20px; z-index: 15; 
    transition: all 0.3s; box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}
.envelope-wrap.open .seal { opacity: 0; transform: translate(-50%, -50%) scale(0); }